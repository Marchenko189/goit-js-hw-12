{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = searchedQuery => {\n   return fetch(\n        `https://pixabay.com/api/?q=${searchedQuery}&key=48268337-f168b7768f25a86360e21e8ce&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        });\n};","export const createGalleryCardTemplate = imgInfo => {\n\n  return `\n    <li class=\"js-gallery-card\">\n    <div class=\"container-gallery\">\n     <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n      <img\n      class=\"js-gallery-img\"\n      src=\"${imgInfo.webformatURL}\" \n      alt=\"${imgInfo.tags}\" \n      />\n      </a>\n      <div class=\"js-gallery-info\">\n  <p class=\"js-gallery-stats\">\n    Likes <span class=\"js-gallery-span\">${imgInfo.likes}</span>\n    </p>\n  <p class=\"js-gallery-stats\">\n    Views <span class=\"js-gallery-span\">${imgInfo.views}</span>\n    </p>\n  <p class=\"js-gallery-stats\">\n    Comments <span class=\"js-gallery-span\">${imgInfo.comments}</span>\n    </p>\n  <p class=\"js-gallery-stats\">\n    Downloads <span class=\"js-gallery-span\">${imgInfo.downloads}</span>\n  </p>\n    </div>\n    </div>\n    </li>\n  `;\n};\n\nexport const createLoadingIndicator = () => {\n  const loadingIndicatorHTML = document.createElement('div');\n  loadingIndicatorHTML.textContent = 'Loading images, please wait...';\n  loadingIndicatorHTML.classList.add('loading-container');\n\n  const span = document.createElement('span');\n  span.classList.add('loader');\n\n  loadingIndicatorHTML.appendChild(span);\n  \n  document.body.appendChild(loadingIndicatorHTML);\n\n  return loadingIndicatorHTML;\n}\n","import { fetchPhotosByQuery } from './js/pixabay-api';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nimport { createLoadingIndicator } from './js/render-functions'; \n\nimport iziToast from \"izitoast\";\n\nimport SimpleLightbox from \"simplelightbox\";\n\nconst toggleLoadingIndicator = (loadingIndicator, show) => {\n    if (show) {\n        loadingIndicator.classList.add('show');\n    } else {\n        loadingIndicator.classList.remove('show');\n    }\n};\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n      if (searchedQuery === '') {\n        iziToast.warning({\n            title: \"Caution\",\n            titleColor: '#fff',\n            message: 'The field must be filled!',\n            messageColor: '#fff',\n            position: 'topRight',\n            color: '#ffa000',\n        });\n\n        return;\n    }\n\n    let loadingIndicator = document.querySelector('.loading-container');\n    if (!loadingIndicator) {\n        loadingIndicator = createLoadingIndicator();\n    }\n\n     toggleLoadingIndicator(loadingIndicator, true);\n    \n    \n    fetchPhotosByQuery(searchedQuery)\n        .then(data => {\n\n         toggleLoadingIndicator(loadingIndicator, false);\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: \"Error\",\n                titleColor: '#fff',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: '#fff',\n                position: 'topRight',\n                color: '#ef4040',\n            });\n\n            galleryEl.innerHTML = '';\n\n            searchFormEl.reset();\n\n            return;\n        }\n                const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n\n            galleryEl.innerHTML = galleryTemplate;\n            \n            const lightbox = new SimpleLightbox('.js-gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n            });\n            \n            lightbox.refresh();\n        })\n        .catch(err => {\n\n             loadingIndicator.classList.remove('show');\n\n            console.log(err);\n        });\n    \n    searchFormEl.reset();\n\n};\n\n \n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["fetchPhotosByQuery","searchedQuery","response","createGalleryCardTemplate","imgInfo","createLoadingIndicator","loadingIndicatorHTML","span","toggleLoadingIndicator","loadingIndicator","show","searchFormEl","galleryEl","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"wvBAAO,MAAMA,EAAqBC,GACxB,MACF,8BAA8BA,CAAa,iGAC9C,EACI,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,ECVIC,EAA4BC,GAEhC;AAAA;AAAA;AAAA,qCAG4BA,EAAQ,aAAa;AAAA;AAAA;AAAA,aAG7CA,EAAQ,YAAY;AAAA,aACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKiBA,EAAQ,KAAK;AAAA;AAAA;AAAA,0CAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,6CAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,8CAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAQlDC,EAAyB,IAAM,CAC1C,MAAMC,EAAuB,SAAS,cAAc,KAAK,EACzDA,EAAqB,YAAc,iCACnCA,EAAqB,UAAU,IAAI,mBAAmB,EAEtD,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1C,OAAAA,EAAK,UAAU,IAAI,QAAQ,EAE3BD,EAAqB,YAAYC,CAAI,EAErC,SAAS,KAAK,YAAYD,CAAoB,EAEvCA,CACT,EClCME,EAAyB,CAACC,EAAkBC,IAAS,CACnDA,EACAD,EAAiB,UAAU,IAAI,MAAM,EAErCA,EAAiB,UAAU,OAAO,MAAM,CAEhD,EAEME,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMb,EAAgBa,EAAM,cAAc,SAAS,WAAW,MAAM,OAElE,GAAIb,IAAkB,GAAI,CACxBc,EAAS,QAAQ,CACb,MAAO,UACP,WAAY,OACZ,QAAS,4BACT,aAAc,OACd,SAAU,WACV,MAAO,SACnB,CAAS,EAED,MACH,CAED,IAAIN,EAAmB,SAAS,cAAc,oBAAoB,EAC7DA,IACDA,EAAmBJ,EAAsB,GAG5CG,EAAuBC,EAAkB,EAAI,EAG9CT,EAAmBC,CAAa,EAC3B,KAAKe,GAAQ,CAId,GAFCR,EAAuBC,EAAkB,EAAK,EAE3CO,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,MAAO,QACP,WAAY,OACZ,QAAS,2EACT,aAAc,OACd,SAAU,WACV,MAAO,SACvB,CAAa,EAEDH,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACH,CACO,MAAMM,EAAkBD,EAAK,KAAK,IAAIE,GAAMf,EAA0Be,CAAE,CAAC,EAAE,KAAK,EAAE,EAEtFN,EAAU,UAAYK,EAEL,IAAIE,EAAe,gBAAiB,CACrD,aAAc,MACd,aAAc,GAC1B,CAAa,EAEQ,QAAO,CAC5B,CAAS,EACA,MAAMC,GAAO,CAETX,EAAiB,UAAU,OAAO,MAAM,EAEzC,QAAQ,IAAIW,CAAG,CAC3B,CAAS,EAELT,EAAa,MAAK,CAEtB,EAKAA,EAAa,iBAAiB,SAAUE,CAAkB"}